apiVersion: app.terraform.io/v1alpha2
kind: AgentPool
metadata:
  name: agent-pool-testing
spec:
  organization: test
  token:
    secretKeyRef:
      name: tfc-owner
      key: token
  name: agent-pool-testing
  agentTokens:
    - name: agent-pool-testing-token
  agentDeployment:
    replicas: 1
    spec:
      containers:
        - name: tfc-agent
          image: "jacob.pub/docker.io/hashicorp/tfc-agent:1.28.2@sha256:ed44b9481e53ddfac8fd31412a23c3b647ae312b75ebb9beac583800d2a3e78c"
  autoscaling:
    minReplicas: 1
    maxReplicas: 2
    cooldownPeriodSeconds: 30
