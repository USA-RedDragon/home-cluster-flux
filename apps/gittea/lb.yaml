apiVersion: v1
kind: Service
metadata:
  name: gitea-ssh
  namespace: gitea
  annotations:
    metallb.io/loadBalancerIPs: 192.168.254.2,fdeb:abba:237c:dead:0001::2
spec:
  type: LoadBalancer
  internalTrafficPolicy: Cluster
  loadBalancerClass: metallb
  ipFamilyPolicy: PreferDualStack
  ipFamilies:
    - IPv4
    - IPv6
  selector:
    app.kubernetes.io/instance: gitea
  ports:
    - name: tcp-ssh
      protocol: TCP
      port: 22
      targetPort: 22
